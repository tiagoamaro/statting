<%= render 'wallet/address_charts_data' %>

<div class="panel panel-default">
  <div class="panel-body">
    <b>Address:</b> <%= @btc_address.address %> <br>
    <hr>
    <b>Current Hash:</b> <span id="current-hash"></span> Kh/s <br>
    <b>Current Reject:</b> <span id="current-reject"></span> Kh/s <br>
    <hr>
    <b>Current Exchanged:</b> <span id="current-exchanged"></span> BTC<br>
    <b>Current Unexchanged:</b> <span id="current-unexchanged"></span> BTC<br>
    <hr>
    <b>Last Updated:</b> <span id="last-updated"></span>
  </div>
  <div class="panel-footer">
    <li>Charts are updated every 5 minutes. There is no need to reload the page.</li>
  </div>
</div>

<h2>Hashrate</h2>
<div id="hashrate_chart"></div>

<h2>Balance</h2>
<div id="balance_chart"></div>

<h2>Payouts</h2>
<table class="table table-striped">
  <thead>
    <tr>
      <th>Payout Time</th>
      <th>Value</th>
      <th>Tx ID</th>
    </tr>
  </thead>
  <tbody>
    <% @btc_address.payouts.all(order: 'timestamp DESC').each do |payout| %>
      <tr>
        <td><%= payout.timestamp %></td>
        <td><%= payout.value %></td>
        <td>
          <%= link_to payout.tx, "https://blockchain.info/tx/#{payout.tx}", target: '_blank' %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>